<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReWrap | Home</title>
    <link rel="stylesheet" href="variables.css">
    <link rel="stylesheet" href="nav_styles.css">
    <link rel="stylesheet" href="home_styles.css">
    <link rel="stylesheet" href="main_styles.css">
    <link rel="stylesheet" href="footer_styles.css">
    <link rel="shortcut icon" href="assets/site_icon.ico">
</head>
<body>
    <!-- Nav bar -->
    <div id="navContainer">
        <img id="navLogo" src="ui_images/nav_logo.svg" alt="ReWrap Logo" onclick="scrollToSection('showcaseBackground')"></img>
        <ul>
            <li id="whatnewLI"><a onclick="scrollToSection('whatnewBox')">What's New</a></li>
            <li id="customLI"><a onclick="scrollToSection('customBox')">Custom</a></li>
            <li id="presetsLI"><a onclick="scrollToSection('presetsBox')">Presets</a></li>
            <li id="stickersLI"><a onclick="scrollToSection('stickersBox')">Stickers</a></li>
        </ul>
        <!-- <img id="cartIcon" src="ui_images/cart_icon.svg" alt="cart"></img> -->
        <div id="helpIcon"><p>?</p></div>
    </div>

    <!-- Animated showcase div -->
    <div id="showcaseBackground">
        <img onload="fadeImage(this)" id="showcaseImg" src="ui_images/scrolling_phones.png" alt="phone animation"></img>
        <div id="showcaseText">
            <h1>ReWrap</h1>
            <p>slogan here?</p>
        </div>
    </div>

    <!-- About our business -->
    <div id="companyInfoContainer">
        <div class="infoSection">
            <img src="ui_images/nz_icon.svg" alt="NZ"></img>
            <div>
                <h2>Locally Based</h2>
                <p>Manufactured in New Zealand to give you free shipping nationwide.</p>
            </div>
        </div>
        <div class="infoSection" id="middleInfoSection">
            <img src="ui_images/customisable_icon.svg" alt="Customisable"></img>
            <div>
                <h2>Customisable</h2>
                <p>Our wraps are fully customisable, create your own or choose from our many pre-made designs.</p>
            </div>
        </div>
        <div class="infoSection">
            <img src="ui_images/materials_icon.svg" alt="Materials"></img>
            <div>
                <h2>Materials</h2>
                <p>All our wraps are made from durable vinyl, which leaves no residue when peeled off.</p>
            </div>
        </div>
    </div>

    <!-- Parallax scrolling section -->
    <div id="whatnewBox" class="parallaxContainer textLeft">
        <div class="textDiv">
            <h2 id="whatnewText">What's new</h2>
            <p>Some wacky text here describing the product</p>
            <div><a>SHOP HERE</a></div>
        </div>
        <div id="imgDiv1" class="imgDiv parallaxWindow"></div>
    </div>
    <div id="customBox" class="parallaxContainer textRight">
        <div id="imgDiv2" class="imgDiv parallaxWindow"></div>
        <div class="textDiv">
            <h2 id="customText">Custom</h2>
            <p>Some wacky text here describing the product</p>
            <div><a>SHOP HERE</a></div>
        </div>
    </div>
    <div id="presetsBox" class="parallaxContainer textLeft">
        <div class="textDiv">
            <h2 id="presetsText">Presets</h2>
            <p>Some wacky text here describing the product</p>
            <div><a>SHOP HERE</a></div>
        </div>
        <div id="imgDiv3"" class="imgDiv parallaxWindow"></div>
    </div>
    <div id="stickersBox" class="parallaxContainer textRight">
        <div id="imgDiv4" class="imgDiv parallaxWindow"></div>
        <div class="textDiv">
            <h2 id="stickersText">Stickers</h2>
            <p>Some wacky text here describing the product</p>
            <div><a>SHOP HERE</a></div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footerContainer">
        <div id="footerSocials">
            <h1>Our Socials: </h1>
            <div>
                <a href="https://www.instagram.com/rewrap_nz/" target="_blank" rel="noreferrer noopener" title="@rewrap_nz">
                    <img src="ui_images/instagram_logo.svg" alt="Intagram Logo"></img>
                </a>
                <a onclick="emailPrompt()" title="rewrapvinyl@gmail.com">
                    <img src="ui_images/mail_icon.svg" alt="Mail Icon"></img>
                </a>
            </div>
            <input type="text" value="rewrapvinyl@gmail.com" id="hiddenEmail">
        </div>
    </div>

    <!------------->
    <!-- Scripts -->
    <!------------->

    <script type="text/javascript" src="global_functions.js"></script>
    
    <!-- Scroll to section -->
    <script>
        function scrollToSection(targetSection) {
            item = document.getElementById(targetSection);
            console.log(item);
            item.scrollIntoView({behavior: "smooth", block: "end"});
        }
    </script>

    <!-- Change nav bar underline colour -->
    <script>
        document.addEventListener("scroll", changeUnderlines);

        function changeUnderlines() {
            var li = document.getElementById("whatnewLI");
            if(isInViewport(document.getElementById("whatnewText"))) {
                li.style.borderBottomColor = "var(--specialGreen)";
                li.firstChild.style.color = "var(--specialGreen)";
            } else {
                li.style.borderBottomColor = "#1A1A1A";
                li.firstChild.style.color = "white";
            }

            li = document.getElementById("customLI")
            if(isInViewport(document.getElementById("customText"))) {
                li.style.borderBottomColor = "var(--specialGreen)";
                li.firstChild.style.color = "var(--specialGreen)";
            } else {
                li.style.borderBottomColor = "#1A1A1A";
                li.firstChild.style.color = "white";
            }

            li = document.getElementById("presetsLI")
            if(isInViewport(document.getElementById("presetsText"))) {
                li.style.borderBottomColor = "var(--specialGreen)";
                li.firstChild.style.color = "var(--specialGreen)";
            } else {
                li.style.borderBottomColor = "#1A1A1A";
                li.firstChild.style.color = "white";
            }

            li = document.getElementById("stickersLI")
            if(isInViewport(document.getElementById("stickersText"))) {
                li.style.borderBottomColor = "var(--specialGreen)";
                li.firstChild.style.color = "var(--specialGreen)";
            } else {
                li.style.borderBottomColor = "#1A1A1A";
                li.firstChild.style.color = "white";
            }
        }

        function isInViewport(element) {
            const rect = element.getBoundingClientRect();
            return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
        }
    </script>

    <!-- 2-stage animation for fading in then moving image -->
    <script>
        // Step 1: Fade in image when file loads
        function fadeImage(element) {
                element.classList.add("fadeIn");
                console.log(element);
                element.addEventListener("animationend", startScrolling);
        }
        // Step 2: Begin scrolling animation
        function startScrolling() {
            showcaseImg = document.getElementById("showcaseImg");
            if(!showcaseImg.classList.contains("scrollImage")) {
                showcaseImg.classList.add("scrollImage");
            }
        }
    </script>

    <!-- Disable parallax on iOS -->
    <script>
        var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        var parallaxWindows = document.getElementsByClassName("parallaxWindow");

        if (isIOS) {
            console.log('This is a IOS device');
            for (item of parallaxWindows) {
                item.style.backgroundAttachment = "scroll";
            }
        } else {
            console.log('This is Not a IOS device :}');
        }
    </script>
</body>
</html>